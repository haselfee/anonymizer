[pytest]
# Ensure project root is on sys.path
# pythonpath = . 
pythonpath = backend

# Allow async fixtures/tests without warnings
asyncio_mode = auto

# Quiet mode: show only dots/F/x, but still respect -ra if you add it manually
addopts = -q --cov=backend --cov-report=xml:coverage.xml --cov-branch

# Fail bei zu wenig Coverage (z. B. 80 %):
# addopts = -q --cov=backend --cov-report=xml:coverage.xml --cov-branch --cov-fail-under=80

# Restrict test discovery to the "tests" folder
testpaths = backend/tests

norecursedirs = .git .venv venv node_modules dist build

# Reduce noise: ignore common deprecation warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Define custom markers
markers =
    quarantine: Unstable, illustrative, or environment-sensitive tests
